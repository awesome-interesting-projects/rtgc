
a.c,580
#define _GNU_SOURCE3,73
typedef struct node 24,503
  char *word;word25,525
  int count;26,539
  struct node *lesser;lesser27,552
  struct node *greater;greater28,575
} NODE;29,599
RT_METADATA NODE_md[NODE_md31,608
NODE *roots[roots37,740
NODE *new_node(new_node39,759
int smallword_count 49,1059
int bigword_count 50,1084
char *new_word(new_word51,1107
char *read_word(read_word63,1376
void insert_node(84,1720
NODE *build_word_tree(build_word_tree131,2990
int walk_word_tree(150,3495
void *start_word_count(start_word_count173,4032
int main(191,4438

allocate.h,246
#define RTnopointers 5,112
#define RTpointers 6,146
#define RTbeerBash(8,181
#define setf_init(9,226
#define INVALID_ADDRESS 11,271
typedef struct rt_metadata 13,301
  long size;14,330
  long *offsets;offsets15,343
} RT_METADATA;16,360

infoBits.h,973
typedef struct gc_header 7,229
  struct gc_header * prev;8,256
  struct gc_header * next;9,283
} GC_HEADER;10,310
typedef GC_HEADER * GCPTR;12,324
#define LINK_INFO_BITS 14,352
#define LINK_INFO_MASK 15,377
#define LINK_POINTER_MASK 16,428
#define GET_LINK_POINTER(18,473
#define SET_LINK_POINTER(19,546
#define GET_LINK_INFO(23,703
#define SET_LINK_INFO(24,753
#define GC_STORAGE_INFO_MASK 28,899
#define GC_COLOR_INFO_MASK 29,934
#define GET_STORAGE_CLASS(31,968
#define SET_STORAGE_CLASS(32,1044
#define GET_INSTANCE_STORAGE_CLASS(34,1137
#define SET_INSTANCE_STORAGE_CLASS(35,1259
#define GET_COLOR(37,1399
#define SET_COLOR(38,1464
#define SC_NOPOINTERS 40,1542
#define SC_POINTERS 41,1570
#define SC_METADATA 42,1598
#define SC_INSTANCE 43,1626
#define GENERATION0 45,1656
#define GENERATION1 46,1684
#define GRAY 47,1712
#define GREEN 48,1740
#define WHITEP(50,1819
#define BLACKP(51,1870
#define GRAYP(52,1919
#define GREENP(53,1960

mem-config.h,763
#define MAX_HEAP_SEGMENTS 6,145
#define MAX_STATIC_SEGMENTS 7,173
#define MAX_SEGMENTS 8,203
#define MAX_THREADS 9,264
#define MAX_GLOBAL_ROOTS 10,288
#define DEFAULT_HEAP_SEGMENT_SIZE 13,368
#define DEFAULT_STATIC_SEGMENT_SIZE 14,410
#define CHECK_BASH 15,488
#define CHECK_SETFINIT 16,509
#define GC_POINTER_ALIGNMENT 17,534
#define PAGE_POWER 18,580
#define INTERIOR_PTR_RETENTION_LIMIT 19,649
#define FLIP_SIGNAL 21,691
#define ELAPSED_MILLISECONDS(24,778
#define START_CODE_TIMING 27,927
#define END_CODE_TIMING(29,1031
#define ENABLE_VISUAL_MEMORY 32,1133
#define VISUAL_MEMORY_ON 33,1164
#define VISUAL_MEMORY_DEFAULT_ON 34,1232
#define UPDATE_VISUAL_STATE(35,1267
#define ENABLE_GC_TIMING 37,1384
#define DETECT_INVALID_REFS 38,1411

mem-internals.h,3091
#define EMPTY_PAGE 4,140
#define SYSTEM_PAGE 5,174
#define STATIC_PAGE 6,208
#define EXTERNAL_PAGE 7,242
#define HEAP_SEGMENT 9,277
#define STATIC_SEGMENT 10,300
typedef unsigned long * LPTR;12,326
typedef unsigned char * BPTR;13,356
#define BYTES_PER_PAGE 15,387
#define PAGE_ALIGNMENT_MASK 16,428
#define PTR_TO_PAGE_INDEX(17,477
#define PAGE_INDEX_TO_PTR(18,568
#define PTR_TO_GROUP(19,659
#define IN_PARTITION(20,721
#define PAGE_GROUP(21,822
#define IN_HEAP(22,902
#define IN_STATIC(23,971
#define IN_HEAP_OR_STATIC(24,1063
#define IN_GLOBALS(25,1127
#define ROUND_DOWN_TO_PAGE(26,1224
#define ROUND_UP_TO_PAGE(27,1303
#define MIN_GROUP_INDEX 34,1502
#define MAX_GROUP_INDEX 35,1571
#define MIN_GROUP_SIZE 36,1634
#define MAX_GROUP_SIZE 37,1680
#define NUMBER_OF_GROUPS 38,1727
#define MIN_OBJECT_ALIGNMENT 39,1792
#define INSTANCE_TO_GCPTR(40,1842
#define HEAP_OBJECT_TO_GCPTR(41,1916
#define DOUBLE_ALIGNMENT 42,1997
#define DOUBLE_ALIGNED_P(43,2043
#define LONG_ALIGNMENT 44,2119
#define ROUND_UPTO_LONG_ALIGNMENT(45,2161
#define BITS_PER_BYTE 47,2287
#define BITS_PER_LONG 49,2355
#define METADATAP(51,2381
#define MAYBE_PAUSE_GC 53,2436
#define MIN(55,2475
#define MAX(56,2510
#define SWAP(57,2545
typedef struct group_info 59,2600
  int size;60,2628
  int index;61,2640
  GCPTR free_last;63,2654
  GCPTR free;64,2705
  GCPTR gray;65,2752
  GCPTR black;66,2792
  GCPTR white;67,2845
  int total_object_count;70,2888
  int white_count;71,2945
  int black_count;72,2989
  int green_count;73,3040
  pthread_mutex_t free_lock;75,3092
  pthread_mutex_t black_count_lock;76,3152
  pthread_mutex_t black_and_last_lock;77,3219
} GROUP_INFO;78,3289
typedef GROUP_INFO * GPTR;80,3304
typedef struct segment 82,3332
  BPTR first_segment_ptr;83,3357
  BPTR last_segment_ptr;84,3383
  int segment_page_count;85,3408
  int type;86,3434
} SEGMENT;87,3446
typedef struct hole 89,3458
  int page_count;90,3480
  struct hole *next;next91,3526
} HOLE;92,3575
typedef HOLE * HOLE_PTR;94,3584
typedef struct page_info 96,3610
  GCPTR base;97,3637
  GPTR group;98,3651
  int bytes_used;99,3665
} PAGE_INFO;100,3683
typedef PAGE_INFO * PPTR;102,3697
typedef struct thread_info 104,3724
  pthread_t pthread;105,3753
  gregset_t registers;106,3774
  long long *stack_base;stack_base107,3825
  int stack_size;108,3905
  char *stack_bottom;stack_bottom109,3923
  char *saved_stack_base;saved_stack_base110,3993
  int saved_stack_size;111,4064
  int handler_done;112,4088
} THREAD_INFO;113,4108
typedef THREAD_INFO * TPTR;115,4124
typedef struct start_thread_args 117,4153
  int thread_index;118,4188
  void *(*real_start_func)real_start_func119,4208
  char *real_args;real_args120,4245
} START_THREAD_ARGS;121,4264
typedef struct counter 123,4286
  int count;124,4311
  pthread_mutex_t lock;125,4324
  pthread_cond_t cond;126,4348
} COUNTER;127,4371
#define ENABLE_LOCKING 201,6586
#define LOCK(204,6631
#define UNLOCK(205,6677
#define LOCK(207,6732
#define UNLOCK(208,6753
#define WITH_LOCK(211,6782

rtalloc.c,787
#define _GNU_SOURCE5,108
HOLE_PTR empty_pages;22,427
int size_to_group_index(25,457
void init_group_info(38,652
void init_page_info(60,1375
void RTinit_empty_pages(69,1618
long allocate_segment(93,2427
GCPTR allocate_empty_pages(139,4153
void init_pages_for_group(205,6200
GPTR allocation_group(274,8490
void initialize_object_body(314,9673
LPTR initialize_object_metadata(328,10035
void *RTallocate(RTallocate361,10862
GCPTR interior_to_gcptr(409,12466
void verify_group(428,12950
void verify_all_groups(452,13742
int RTtotalFreeHeapSpace(459,13920
int RTlargestFreeHeapBlock(477,14402
void init_gc_thread(507,15220
void register_global_root(525,15758
void RTinit_heap(536,16091
void *rtalloc_start_thread(rtalloc_start_thread580,17802
int new_thread(623,19352

rtalloc-extra.c,191
void * RTstaticAllocate(8,201
static void * copy_object(48,1609
void * RTreallocate(85,2685
int RTstackAllocationSize(130,4068
int RTallocationTrueSize(137,4280
int RTtrueSize(146,4575

rtgc.c,1707
int gc_count;26,681
double total_gc_time_in_cycle;27,695
double max_increment_in_cycle;28,726
double total_write_barrier_time_in_cycle;29,757
struct timeval start_gc_cycle_time;30,799
double last_cycle_ms;31,835
double last_gc_ms;32,857
double last_write_barrier_ms;33,876
struct timeval start_tv,34,906
struct timeval start_tv, end_tv,34,906
struct timeval start_tv, end_tv, flip_tv,34,906
struct timeval start_tv, end_tv, flip_tv, max_flip_tv,34,906
struct timeval start_tv, end_tv, flip_tv, max_flip_tv, total_flip_tv;34,906
void verify_white_count(38,985
void verify_white_counts(51,1258
void RTmake_object_gray(59,1422
void scan_memory_segment(111,3227
void scan_memory_segment_with_metadata(136,3981
int scan_write_vector(141,4104
void mark_write_vector(165,4773
void *RTwrite_barrier(RTwrite_barrier179,5382
void *RTsafe_bash(RTsafe_bash192,5708
void *RTsafe_setfInit(RTsafe_setfInit208,6076
void memory_segment_write_barrier(221,6514
void *ptrcpy(ptrcpy239,7066
void *ptrset(ptrset245,7221
void scan_thread_registers(252,7385
void scan_thread_saved_stack(259,7620
void scan_thread(267,7907
void scan_threads(273,8016
void scan_global_roots(282,8274
void scan_static_space(303,8826
void scan_root_set(321,9355
void scan_object(333,9622
void scan_object_with_group(356,10157
void scan_gray_set(366,10464
void lock_all_free_locks(401,11306
void unlock_all_free_locks(409,11484
void flip(418,11689
void recycle_group_garbage(494,14169
void recycle_all_garbage(555,16149
void reset_gc_cycle_stats(569,16474
void summarize_gc_cycle_stats(580,16732
void full_gc(593,17093
void rtgc_loop(616,17589
int rtgc_count(628,17835
void init_realtime_gc(632,17881

rtgc-extra.c,163
void remove_object_from_free_list(8,203
void convert_free_to_empty_pages(38,1024
void coalesce_segment_free_pages(66,2086
void coalesce_all_free_pages(95,3133

rtglobals.c,1022
#define _USE_GNU5,132
#define _GNU_SOURCE6,149
GROUP_INFO *groups;groups22,429
PAGE_INFO *pages;pages23,449
SEGMENT *segments;segments25,468
int total_segments;26,487
THREAD_INFO *threads;threads28,508
int total_threads;29,530
char **global_roots;global_roots31,550
int total_global_roots;32,571
BPTR first_static_ptr;35,653
BPTR last_static_ptr;36,676
BPTR first_partition_ptr;38,699
BPTR last_partition_ptr;39,725
LPTR write_vector;41,751
size_t write_vector_length;42,770
long total_partition_pages;44,799
int unmarked_color;45,827
int marked_color;46,847
int enable_write_barrier;47,865
int memory_mutex;48,891
int visual_memory_on;50,910
char *last_gc_state;last_gc_state51,932
pthread_key_t thread_index_key;53,954
pthread_mutex_t total_threads_lock;55,987
pthread_mutex_t empty_pages_lock;56,1023
pthread_mutex_t global_roots_lock;57,1057
pthread_mutex_t wb_lock;58,1092
COUNTER stacks_copied_counter;60,1118
sem_t gc_semaphore;61,1149
int run_gc 62,1169
int atomic_gc 63,1185

rtstop.c,297
#define _GNU_SOURCE3,73
static volatile sig_atomic_t mutators_may_proceed 54,1894
static volatile sig_atomic_t handler_done[handler_done55,1949
void print_registers(58,2059
void gc_flip_action_func(100,3411
void init_signals_for_rtgc(148,5269
int stop_all_mutators_and_save_state(166,5777

vizmem.c,593
void *RTbig_malloc(RTbig_malloc20,400
void out_of_memory(31,652
static int zero 36,774
static int debug;37,795
void Debugger(39,814
void copy_test(50,990
void counter_init(65,1442
int counter_zero(71,1572
int counter_increment(84,1892
void counter_wait_threshold(102,2395
void RTmaybe_update_visual_page(111,2642
int RTupdate_visual_page(115,2740
void RTupdate_visual_static_page(118,2786
void RTupdate_visual_fake_ptr_page(120,2840
void RTdraw_visual_gc_state(122,2895
void RTdraw_visual_gc_stats(124,2933
void RTvisual_runbar_on(126,2971
void RTvisual_runbar_off(128,3005

vizmem.h,0
